---
wps_internal_hostname: cp4cds-cn1.dkrz.de
# wps_external_hostname: cp4cds-cn1.dkrz.de
wps_external_hostname: compute.mips.copernicus-climate.eu

# user for pywps service
wps_user: wps
wps_group: wps
## TODO: allow user wps to run cron
# $ vim /etc/security/access.conf
# + : wps : cron crond :0 tty1 tty2 tty3 tty4 tty5 tty6

# enable cronjob to clean outputs
wps_cronjob_disabled: no
wps_outputs_keep_days: 3
wps_temp_keep_days: 3
# conda
conda_env_use_spec: true
conda_env_spec_file: spec-list.txt
# conda_env_file: env.yml
# db
db_install_postgresql: false
db_install_sqlite: true
db_user: pywps
db_password: pywps
# demo
demo: true
data_dir: /opt/birdhouse/data
wps_services:
  - name: rook
    repo: https://github.com/roocs/rook.git
    version: master
    hostname: "{{ wps_external_hostname }}"
    fs_hostname: "{{ wps_internal_hostname }}"
    port: 80
    maxprocesses: -1
    parallelprocesses: -1
    log_level: INFO
    environment:
      OMP_NUM_THREADS: 1
      MKL_NUM_THREADS: 1
      OPENBLAS_NUM_THREADS: 1
